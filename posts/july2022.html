<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <meta name="description" content=""/>
    <meta name="author" content=""/>
    <title>Daniela's PhD</title>
    <link rel="icon" type="image/x-icon" href="../assets/favicon.ico"/>
    <!-- Font Awesome icons (free version)-->
    <script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" crossorigin="anonymous"></script>
    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet"
          type="text/css"/>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"
          rel="stylesheet" type="text/css"/>
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="../css/styles.css" rel="stylesheet"/>

    <style>
        * {
            box-sizing: border-box;
        }

        .img-zoom-container {
            position: relative;
        }

        .img-zoom-lens {
            position: absolute;
            border: 1px solid #d4d4d4;
            /*set the size of the lens:*/
            width: 80px;
            height: 80px;
        }

        .img-zoom-result {
            border: 1px solid #d4d4d4;
            /*set the size of the result div:*/
            width: 500px;
            height: 500px;
            margin-left: auto;
            margin-right: auto;
        }


    </style>
    <script>
        function imageZoom(imgID, resultID) {
            var img, lens, result, cx, cy;
            img = document.getElementById(imgID);
            result = document.getElementById(resultID);
            /*create lens:*/
            lens = document.createElement("DIV");
            lens.setAttribute("class", "img-zoom-lens");
            /*insert lens:*/
            img.parentElement.insertBefore(lens, img);
            /*calculate the ratio between result DIV and lens:*/
            cx = result.offsetWidth / lens.offsetWidth;
            cy = result.offsetHeight / lens.offsetHeight;
            /*set background properties for the result DIV:*/
            result.style.backgroundImage = "url('" + img.src + "')";
            result.style.backgroundSize = (img.width * cx) + "px " + (img.height * cy) + "px";
            /*execute a function when someone moves the cursor over the image, or the lens:*/
            lens.addEventListener("mousemove", moveLens);
            img.addEventListener("mousemove", moveLens);
            /*and also for touch screens:*/
            lens.addEventListener("touchmove", moveLens);
            img.addEventListener("touchmove", moveLens);

            function moveLens(e) {
                var pos, x, y;
                /*prevent any other actions that may occur when moving over the image:*/
                e.preventDefault();
                /*get the cursor's x and y positions:*/
                pos = getCursorPos(e);
                /*calculate the position of the lens:*/
                x = pos.x - (lens.offsetWidth / 2);
                y = pos.y - (lens.offsetHeight / 2);
                /*prevent the lens from being positioned outside the image:*/
                if (x > img.width - lens.offsetWidth) {
                    x = img.width - lens.offsetWidth;
                }
                if (x < 0) {
                    x = 0;
                }
                if (y > img.height - lens.offsetHeight) {
                    y = img.height - lens.offsetHeight;
                }
                if (y < 0) {
                    y = 0;
                }
                /*set the position of the lens:*/
                lens.style.left = x + "px";
                lens.style.top = y + "px";
                /*display what the lens "sees":*/
                result.style.backgroundPosition = "-" + (x * cx) + "px -" + (y * cy) + "px";
            }

            function getCursorPos(e) {
                var a, x = 0, y = 0;
                e = e || window.event;
                /*get the x and y positions of the image:*/
                a = img.getBoundingClientRect();
                /*calculate the cursor's x and y coordinates, relative to the image:*/
                x = e.pageX - a.left;
                y = e.pageY - a.top;
                /*consider any page scrolling:*/
                x = x - window.pageXOffset;
                y = y - window.pageYOffset;
                return {x: x, y: y};
            }
        }
    </script>
</head>
<body>
<!-- Navigation-->
<nav class="navbar navbar-expand-lg navbar-light" id="mainNav">
    <div class="container px-4 px-lg-5">
        <a class="navbar-brand" href="../index.html">Daniela's PhD</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive"
                aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            Menu
            <i class="fas fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ms-auto py-4 py-lg-0">
                <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="../index.html">Home</a></li>
                <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="about.html">About</a></li>
                <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="post.html">Sample Post</a></li>
                <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="contact.html">Contact</a></li>
            </ul>
        </div>
    </div>
</nav>
<!-- Page Header-->
<header class="masthead" style="background-image: url('../assets/img/larcc_2.jpeg')">
    <div class="container position-relative px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
            <div class="col-md-10 col-lg-8 col-xl-7">
                <div class="post-heading">
                    <h1>June 2022 </h1>
                    <h2 class="subheading">Year 2</h2>
                    <span class="meta">
                                Posted by
                                <a href="#!">Daniela Rato</a>
                                on June 28, 2022
                            </span>
                </div>
            </div>
        </div>
    </div>
</header>
<!-- Post Content-->
<article class="mb-4">
    <div class="container px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
            <div class="col-md-10 col-lg-8 col-xl-7">
                <h2 class="section-heading"> Calibration of RGB-D cameras and hand-eye system development
                </h2>
                <p></p>

                <h4> Calibrating different brands of RGB-D cameras</h4>

                <p> First I calibrated a simulated system with only an RGB-D camera. This system was calibrated with an
                    induced error of 0.1m and 0.1rad. As can be seen in the image above, the calibration was successful
                    and the 3D models of the depth and RGB sensors overlap. The reprojection error of this calibration
                    was 2.43 pixels.</p>

                <p><a href="#!"><img class="img-fluid" width="560" src="../assets/img/calibration_simulation.png"
                                     alt="..."/></a></p>

                <p>In real world, I tested this calibration in three different camera models: Asus Xtion, Obrecc Astra
                    Pro and Intel Realsense.

                    First, in the orbecc calibration the models of both the sensors had a significant displacement as
                    seen in the image,
                    which led me to think that there might be something wrong in the camera driver since the methodology
                    was proved to be right in simulation. I did not do a reprojection error analysis on this camera.

                <p><a href="#!"><img class="img-fluid" width="560" src="../assets/img/calibration_orbecc.png"
                                     alt="..."/></a></p>

                The camera that inspired me the most trust was the Asus Xtion so I decided to calibrate it. The
                reprojection error obtained was 3.55 pixels, which is quite good for real world. Nevertheless, the
                tridimensional models still present a sligh displacement and they should be overlapped. Unlike the case
                of the orbecc, this time the displacement is mainly vertical.

                <p><a href="#!"><img class="img-fluid" width="560" src="../assets/img/calibration_asus.png"
                                     alt="..."/></a></p>

                Thirdly I tested on the Intel Realsense camera. This was the one that we had the most interest because
                it is installed on the hand-eye setup. After recording the data I concluded that it was not possible to
                calibrate these sensors because the data is highly inconsistent and inaccurate, as can be seen in the
                images of the chessboard detection bellow.

                <p><a href="#!"><img class="img-fluid" width="560" src="../assets/img/realsense_data.png"
                                     alt="..."/></a></p>

                Here is an image of the Asus Xtion detection for comparison:

                <p><a href="#!"><img class="img-fluid" width="560" src="../assets/img/asus_data.png"
                                     alt="..."/></a></p>

                This data inconsistency means that the realsense depth sensor cannot be calibrated and therefore we must
                find a different solution for the RGB-D hand-eye calibration.

                <p></p>

                <h4> Calibrating a RGB-D hand-eye system combined with fixed sensors</h4>

                <p>
                    The system to calibrate has 5 sensors: 1 LiDAR, 2 RGBs and 2 Depths. The following image shows the
                    setup that will be used.
                </p>

                <p><a href="#!"><img class="img-fluid" width="560" src="../assets/img/Design%20sem%20nome%20(1).png"
                                     alt="..."/></a></p>

                <p>I calibrated this system in a simulated environment with 24 collections and an induced error of 0.1m
                    and 0.1 rad and obtained good visual
                    results. I still haven't proceeded to the reprojections analysis. </p>

                <p>I also recorded real data for this system but I used the installed realsense camera, which is now
                    proved to bu unfit for calibration so new data must be acquired with a different camera on the
                    hand-eye system.</p>

                <p></p>

                <h4>Other tasks</h4>
                <ul>
                    <li>Review and submission of JMS article - first review</li>
                    <li>Development of workplan for the 3 months in Barcelona</li>
                    <li>Organization of new manuscript for depth calibration</li>
                    <li>Writing the introduction</li>
                    <li>State-of-the-art about RGB-D and hand-eye systems</li>
                </ul>

                <h4>Issues </h4>
                <!--%%%%%%%%%%%%%%%%%%%%%%%%%%%%%-->
                <p><a href="https://github.com/lardemua/atom/issues/512">Click mouse to indicate seed point in depth
                    labeling does not entirely work -
                    open </a>
                </p>
                <p><a href="https://github.com/lardemua/atom/issues/505">Evaluate if Realsense images are not fit for
                    depth labelling
                    - open </a>
                </p>
                <p><a href="https://github.com/lardemua/larcc/issues/504">Pyrdown causing error increase in depth
                    modality - open</a>
                </p>
                <p><a href="https://github.com/lardemua/larcc/issues/503">Images don't appear while calibration due to
                    wrong configuration of rviz template - closed</a>
                </p>
                <p><a href="https://github.com/lardemua/larcc/issues/501">Possible depth labelling problem with robot -
                    open</a>
                </p>


                <!--                https://youtube.com/shorts/3dKY3RwgptY?feature=share-->
                <!--                <div class="my-4">-->

                <!--                <h4>Issues </h4>-->
                <!--                &lt;!&ndash;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&ndash;&gt;-->
                <!--                <p><a href="https://github.com/lardemua/atom/issues/323">Add depth component to ATOM's framework-->
                <!--                    - -->
                <!--                    open </a>-->
                <!--                </p>-->


                <!--                </div>-->
            </div>
        </div>
    </div>
</article>
<!-- Footer-->
<footer class="border-top">
    <div class="container px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
            <div class="col-md-10 col-lg-8 col-xl-7">
                <ul class="list-inline text-center">
                    <li class="list-inline-item">
                        <a href="#!">
                                    <span class="fa-stack fa-lg">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                                    </span>
                        </a>
                    </li>
                    <li class="list-inline-item">
                        <a href="#!">
                                    <span class="fa-stack fa-lg">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-facebook-f fa-stack-1x fa-inverse"></i>
                                    </span>
                        </a>
                    </li>
                    <li class="list-inline-item">
                        <a href="#!">
                                    <span class="fa-stack fa-lg">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                                    </span>
                        </a>
                    </li>
                </ul>
                <div class="small text-center text-muted fst-italic">Copyright &copy; Your Website 2021</div>
            </div>
        </div>
    </div>
</footer>
<!-- Bootstrap core JS-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"></script>
<!-- Core theme JS-->
<script src="../js/scripts.js"></script>
</body>
</html>
